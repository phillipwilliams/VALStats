import{matchdata as e,chosenmatch as a,playerindex as r,winner as E,valname as R}from"./Feed.fe85e54a.js";import{r as P,i as Q,k,o,c as d,a as t,l as p,m as h,F as w,h as X,x as s,n as c,t as n,d as _,u as S,y as z}from"./index.62523df5.js";const V={};const Y={id:"divtab"},Z=t("p",{style:{"font-family":"Valfont","text-decoration":"none","font-size":"50px"}},"Match Stats",-1),$={key:0,style:{width:"1400px"}},tt=t("thead",{style:{"font-family":"Valfont"}},[t("tr",{style:{"font-family":"Valfont","text-decoration":"none","font-size":"40px"}},[t("th",null,"Map"),t("th",null,"Match Score"),t("th",null,"Agent")])],-1),et={key:0},at={style:{"font-family":"Valfont","text-decoration":"none","font-size":"50px"}},lt={key:0},st=["src"],nt=t("br",null,null,-1),ot={key:1},dt=t("br",null,null,-1),rt=t("br",null,null,-1),ut=c(),it=t("br",null,null,-1),_t={key:2},ct=["src"],ht=c(),pt=t("br",null,null,-1),yt=t("br",null,null,-1),mt=t("br",null,null,-1),vt={style:{"font-family":"Valfont","text-decoration":"none","font-size":"40px"}},ft=c(" Stats"),gt={key:0,style:{width:"1400px"}},bt=t("thead",{style:{"font-family":"Valfont"}},[t("tr",{style:{"font-family":"Valfont","text-decoration":"none","font-size":"25px"}},[t("th",null,"Eliminations"),t("th",null,"Deaths"),t("th",null,"Assists"),t("th",null,"Average Combat Score"),t("th",null,"Headshot %"),t("th",null,"Bodyshot %"),t("th",null,"Most Used Weapon")])],-1),kt={key:0},wt={key:0,style:{"font-family":"calibri","text-decoration":"none","font-size":"25px"}},xt=["src"],Mt=t("br",null,null,-1),Vt={key:0,style:{width:"1400px"}},Ct=t("thead",{style:{"font-family":"Valfont"}},[t("tr",null,[t("th",null,"Agent"),t("th",null,"Name"),t("th",null,"Elims"),t("th",null,"Deaths"),t("th",null,"Assists"),t("th",null,"ACS")])],-1),Lt=["bgcolor"],Ut=["src"],f=new Array,u=P(!1);let N=0,C,x,L,U,F,T,H,W,j,q,M,G,I;var J,K,D,O;let y;const v=new Map;function At(){var g;C=e.value.data[a].metadata.map.toLowerCase(),x="../assets/"+C+".png",L=e.value.data[a].teams.red.rounds_won,U=e.value.data[a].teams.blue.rounds_won,F=e.value.data[a].players.all_players[r].assets.agent.small,T=e.value.data[a].players.all_players[r].character,H=e.value.data[a].players.all_players[r].stats.kills,W=e.value.data[a].players.all_players[r].stats.assists,j=e.value.data[a].players.all_players[r].stats.deaths,q=Math.round(e.value.data[a].players.all_players[r].stats.score/e.value.data[a].metadata.rounds_played),M=e.value.data[a].players.all_players[r].stats.bodyshots+e.value.data[a].players.all_players[r].stats.headshots+e.value.data[a].players.all_players[r].stats.legshots,G=Math.round(e.value.data[a].players.all_players[r].stats.headshots/M*100),I=Math.round((e.value.data[a].players.all_players[r].stats.bodyshots+e.value.data[a].players.all_players[r].stats.legshots)/M*100),J=new URL(x,V.url).href,K=new URL(F,V.url).href,console.log(x),console.log(E),v.clear();for(let l=0;l<e.value.data[a].kills.length;l++)e.value.data[a].kills[l].killer_display_name.includes(e.value.data[a].players.all_players[r].name)&&e.value.data[a].kills[l].damage_weapon_name&&v.set(e.value.data[a].kills[l].damage_weapon_name,((g=v.get(e.value.data[a].kills[l].damage_weapon_name))!=null?g:0)+1);y=[...v.entries()].reduce((l,b)=>b[1]>l[1]?b:l),console.log(y);for(let l=0;l<e.value.data[a].kills.length;l++)e.value.data[a].kills[l].damage_weapon_name==y[0]&&(D=e.value.data[a].kills[l].damage_weapon_assets.display_icon),O=new URL(D,V.url).href;for(let l=0;l<e.value.data[a].players.all_players.length;l++)f[l]={name:e.value.data[a].players.all_players[l].name,elim:e.value.data[a].players.all_players[l].stats.kills,death:e.value.data[a].players.all_players[l].stats.deaths,assist:e.value.data[a].players.all_players[l].stats.assists,score:Math.round(e.value.data[a].players.all_players[l].stats.score/e.value.data[a].metadata.rounds_played),pic:e.value.data[a].players.all_players[l].assets.agent.small,team:e.value.data[a].players.all_players[l].team,rounds:e.value.data[a].metadata.rounds_played},console.log(f[l].score);console.log(L+"-"+U),N=e.value.data[a].metadata.rounds_played,console.log(N)}const zt={__name:"Match",setup(g){At(),Q(()=>{u.value=!0});const l=()=>{X.push("/feed")};return(b,Bt)=>{const A=k("center"),m=k("tab"),B=k("tabs");return o(),d(w,null,[t("div",Y,[p(B,null,{default:h(()=>[p(m,{name:s(R)},{default:h(()=>[t("div",null,[p(A,null,{default:h(()=>[Z,u.value?(o(),d("table",$,[tt,u.value?(o(),d("tbody",et,[t("tr",at,[u.value?(o(),d("td",lt,[t("img",{src:s(J),height:"180",width:"325"},null,8,st),nt,c(n(s(C)),1)])):_("",!0),u.value?(o(),d("td",ot,[dt,c(" "+n(s(L))+" - "+n(s(U))+" ",1),rt,ut,it,c(" "+n(s(E)),1)])):_("",!0),u.value?(o(),d("td",_t,[t("img",{src:s(K),height:"180",width:"180"},null,8,ct),ht,pt,c(" "+n(s(T)),1)])):_("",!0)])])):_("",!0)])):_("",!0),yt,mt,t("p",vt,[t("b",null,n(s(R)),1),ft]),t("div",null,[u.value?(o(),d("table",gt,[bt,u.value?(o(),d("tbody",kt,[u.value?(o(),d("tr",wt,[t("td",null,n(s(H)),1),t("td",null,n(s(j)),1),t("td",null,n(s(W)),1),t("td",null,n(s(q)),1),t("td",null,n(s(G)),1),t("td",null,n(s(I)),1),t("td",null,[u.value?(o(),d("img",{key:0,src:s(O),height:"50",width:"175"},null,8,xt)):_("",!0),Mt,c(n(s(y)[0])+": "+n(s(y)[1])+" elims",1)])])):_("",!0)])):_("",!0)])):_("",!0)])]),_:1})])]),_:1},8,["name"]),p(m,{name:"Scoreboard"},{default:h(()=>[t("div",null,[p(A,null,{default:h(()=>[u.value?(o(),d("table",Vt,[Ct,t("tbody",null,[(o(!0),d(w,null,S(s(f),i=>(o(),d("tr",null,[t("td",{bgcolor:i.team},[t("img",{src:i.pic,height:"75",width:"75"},null,8,Ut)],8,Lt),t("td",null,[t("b",null,n(i.name),1)]),t("td",null,n(i.elim),1),t("td",null,n(i.death),1),t("td",null,n(i.assist),1),t("td",null,n(i.score),1)]))),256))])])):_("",!0)]),_:1})])]),_:1}),p(m,{name:"Round Breakdown"},{default:h(()=>[u.value?(o(),z(B,{key:0,options:{useUrlFragment:!1}},{default:h(()=>[(o(!0),d(w,null,S(s(f)[0].rounds,i=>(o(),z(m,{id:i,name:i},{default:h(()=>[c(n(i),1)]),_:2},1032,["id","name"]))),256))]),_:1})):_("",!0)]),_:1})]),_:1})]),t("div",null,[t("button",{onClick:l,id:"backbtn"}," Choose a different Match")])],64)}}};export{zt as default,At as poppage};
